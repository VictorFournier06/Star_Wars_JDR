/* ==========================================================================
   STAR WARS CHARACTER CREATOR - BACKGROUND & VISUAL EFFECTS
   ========================================================================== */

/* --------------------------------------------------------------------------
   BACKGROUND EFFECTS
   -------------------------------------------------------------------------- */
.bg-img {
  position: fixed;
  inset: 0;
  background-image: var(--bg-img);
  background-size: cover;
  background-position: center;
  opacity: 0.18;
  filter: saturate(0.9) contrast(1.05) brightness(0.82);
  pointer-events: none;
  transform: translateZ(0);
}

.noise {
  position: fixed;
  inset: -40px;
  background-image: url("data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A//www.w3.org/2000/svg'%20width%3D'160'%20height%3D'160'%3E%3Cfilter%20id%3D'n'%3E%3CfeTurbulence%20type%3D'fractalNoise'%20baseFrequency%3D'0.8'%20numOctaves%3D'3'%20stitchTiles%3D'stitch'/%3E%3C/filter%3E%3Crect%20width%3D'160'%20height%3D'160'%20filter%3D'url(%2523n)'%20opacity%3D'0.12'/%3E%3C/svg%3E");
  mix-blend-mode: overlay;
  opacity: 0.33;
  pointer-events: none;
}

.scan {
  position: fixed;
  inset: 0;
  background:
    repeating-linear-gradient(0deg, rgba(127, 209, 255, 0.06) 0 1px, rgba(0, 0, 0, 0) 1px 4px),
    radial-gradient(1200px 800px at 50% 10%, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.62) 70%);
  opacity: 0.46;
  pointer-events: none;
  animation: scan 10s linear infinite;
}

@keyframes scan {
  0% { transform: translateY(0); }
  100% { transform: translateY(22px); }
}

/* --------------------------------------------------------------------------
   FLICKER & REFRESH EFFECTS
   -------------------------------------------------------------------------- */
.flicker {
  position: fixed;
  inset: 0;
  pointer-events: none;
  opacity: 0;
  background: radial-gradient(800px 220px at 70% 35%, rgba(127, 209, 255, 0.30), rgba(0, 0, 0, 0) 60%);
  mix-blend-mode: screen;
  filter: blur(0.2px);
}

.flicker.on {
  opacity: 0.28;
}

.refresh {
  position: fixed;
  inset: -20%;
  pointer-events: none;
  opacity: 0;
  transform: translateY(-130%);
  background: linear-gradient(to bottom,
    rgba(0, 0, 0, 0) 0%,
    rgba(127, 209, 255, 0) 44%,
    rgba(127, 209, 255, 0.10) 47%,
    rgba(127, 209, 255, 0.90) 49.4%,
    rgba(127, 209, 255, 0.05) 52%,
    rgba(0, 0, 0, 0) 100%);
  mix-blend-mode: screen;
  filter: blur(0.35px);
}

.refresh.on {
  opacity: 0.45;
  animation: refreshSweep 1.05s linear forwards;
}

@keyframes refreshSweep {
  0% { transform: translateY(-130%); }
  100% { transform: translateY(130%); }
}
